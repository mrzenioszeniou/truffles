function xhrShowPostrenderController($http,$scope){function _getCookie(name){var regexp=new RegExp("(?:^"+name+"|;\\s*"+name+")=(.*?)(?:;|$)","g"),result=regexp.exec(document.cookie);return null===result?null:result[1]}$scope.data={_httpRequestOptions:{method:"GET",url:""},_dataRender:"",_httpRequest:function(){$http(this._httpRequestOptions).then(function(response){200===response.status&&($scope.data._dataRender=response.data),$scope.data._dataRender.csrf=_getCookie("csrftoken")})},_errorHandling:function(status){console.log("Error: "+status)}}}app.modules.complain=function(self){function _complainShowInit(){$("body").hasClass("mobile")?(_dialogWidth="auto",_dialogPosition={my:"top",at:"bottom",of:window}):(_dialogWidth=840,_dialogPosition={my:"center",at:"center",of:window}),_$complainDialog.html($(".js-complain-dialog").html()).dialog({resizable:!1,draggable:!1,maxWidth:840,position:_dialogPosition,width:_dialogWidth,modal:!0,dialogClass:"complain-wrap",show:{duration:300},hide:{duration:300}})}function _complainSuccess(){$(".js-complain-show").addClass("js-complain-blocked"),_$complainDialog.dialog("close")}function _init(){_$complainDialog=$(".js-dialog-popup")}function _complainAjax($form){$.ajax({url:$form.attr("action"),type:"POST",dataType:"json",data:$form.serialize(),success:function(response){switch(response.error_code){case 0:$form.trigger("reset"),_$complainDialog.addClass("js-complain-success"),setTimeout(_complainSuccess,1e3),$.cookie("cmpl",parseInt($.cookie("cmpl")||0)+1,{path:"/",expires:1});break;case 1:_$complainDialog.addClass("js-complain-error")}}})}function _listeners(){$doc.on("click",".js-complain-show",function(event){event.preventDefault(),$.cookie("cmpl")>=10||$(".js-complain-show").hasClass("js-complain-blocked")||_complainShowInit()}).on("click",".trans-click",function(event){event.preventDefault(),_$complainDialog.dialog("close")}).on("submit",".js-complain-form",function(event){event.preventDefault(),_complainAjax($(this))}).on("click",".item-moderation__close",function(){$(".item-moderation").hide()}).on("keydown",".js-complain-form textarea",function(){_$complainDialog.removeClass("js-complain-error")})}var _$complainDialog,_dialogPosition,_dialogWidth;return self.ready=function(){_listeners(),_init()},self}(app.modules.complain||{}),app.modules.message=function(self){function _successPopup(text){function popupClose(){$(".js-message-dialog").dialog("close")}var _dialogHeight,_dialogWidth;$("body").hasClass("mobile")?(_dialogWidth="auto",_dialogHeight=300):(_dialogWidth=840,_dialogHeight="auto"),$(".js-message-dialog").html('<div class="ui-dialog-head">'+text+"</div>").dialog({resizable:!1,draggable:!1,maxWidth:840,width:_dialogWidth,height:_dialogHeight,modal:!0,show:{duration:300},hide:{duration:300},close:function(){$(".announcement-content-form").toggle(500)}}),setTimeout(popupClose,2e3),$(".item-contacts-red").toggleClass("gray"),$form.trigger("reset")}function _makeQtip($item,text){if(app.config.mobile)return!1;var offset=$item.offset(),sWidth="desktop"===app.config.workspace?$item.outerWidth():$item.outerWidth()/2,sHeight=$item.outerHeight()/2+("desktop"===app.config.workspace?-5:10),coords=[offset.left+sWidth,offset.top+sHeight];$item.qtip({content:{text:text},position:{target:coords,at:"right center",my:"left center",adjust:{scroll:!1,resize:!1,mouse:!1,effect:!1}},show:{event:!1,ready:!0},hide:{target:$item,event:"focus click mouseover hover mouseenter"},style:{classes:"u-tooltip error"}})}function _sendForm(){$form=$(".announcement-content-form"),$.ajax({url:$form.data("url"),type:"POST",dataType:"json",data:$form.serialize(),success:function(response){if(1==response.error_code){if($(".input-group").length){$(".g-recaptcha iframe").attr("src",$(".g-recaptcha iframe").attr("src"));for(var elem in response.errors)_makeQtip($('[data-error-target="'+elem+'"]'),response.errors[elem][0]),$("[name='"+elem+"']").parent().addClass("error-trigger"),$("[name='"+elem+"']").parent().children("label").text(response.errors[elem][0]),"captcha"==elem&&$(".g-recaptcha").addClass("error-trigger")}else if($(".message-form-email").length){$(".g-recaptcha iframe").attr("src",$(".g-recaptcha iframe").attr("src"));for(var elem in response.errors)_makeQtip($('[data-error-target="'+elem+'"]'),response.errors[elem][0]),"sender_email"==elem&&$(".message-form-email").addClass("error"),"text"==elem&&$(".message-form-text").addClass("error"),"captcha"==elem&&$(".g-recaptcha>div>div").addClass("error")}}else $("body").hasClass("mobile")?ga("send","event","User_mobile","SendMessage",$(".js-analytics-category").attr("data-category")):ga("send","event","User_desktop","SendMessage",$(".js-analytics-category").attr("data-category")),_successPopup(response.result)}})}function _checkAuth(el){var id=$('[name="pk"]').val(),url=app.config.api_root+"item_info/"+id+"/";$.ajax({method:"GET",url:url,success:function(res){res.is_authenticated?_openForm():window.location.href=el.data("redirect")}})}function _openForm(){app.config.mobile?($(".js-message-form-wrapper").show(500),$(".js-open-message-form").toggleClass("contacts-block__button--opened"),$("html, body").animate({scrollTop:$(".js-message-form-wrapper").offset().top},500)):($(".js-message-form-wrapper").show(500),$("html, body").animate({scrollTop:$(".js-message-form-wrapper").offset().top},500))}function _init(){if(_$els={contacts:$(".item-contacts")},$(".contacts-wrap").length){var currentPosition=$(window).scrollTop()+$(window).innerHeight()-100,triggerPosition=$(".contacts-wrap").offset().top;currentPosition>triggerPosition?_$els.contacts.hasClass("contacts-static")||_$els.contacts.addClass("contacts-static"):_$els.contacts.hasClass("contacts-static")&&_$els.contacts.removeClass("contacts-static")}app.config.mobile&&$(".js-message-form-wrapper").removeClass("dn")}function _listeners(){$doc.on("submit",".announcement-content-form",function(event){event.preventDefault(),_sendForm()}).on("click",".js-open-message-form",function(event){event.preventDefault(),_checkAuth($(this))}).on("click",".js-open-send-form",function(event){event.preventDefault(),$(".js-message-form-wrapper").removeClass("dn"),$("html, body").animate({scrollTop:$(".js-message-form-wrapper").offset().top},500)}).on("keydown",".message-form-element",function(event){$(this).removeClass("error")}).on("scroll",function(){if($(".contacts-wrap").length){var triggerPosition=$(".contacts-wrap").offset().top,currentPosition=$(window).scrollTop()+$(window).innerHeight()-100;currentPosition>triggerPosition-180?_$els.contacts.hasClass("contacts-static")||_$els.contacts.addClass("contacts-static"):_$els.contacts.hasClass("contacts-static")&&_$els.contacts.removeClass("contacts-static")}})}var $form,_$els=null;return self.ready=function(){_listeners(),_init()},self}(app.modules.message||{}),app.modules.geoMarkerRender=function(self){function _mapInit(){data.position={lat:parseFloat(data.mapElement.data("default-lat")),lng:parseFloat(data.mapElement.data("default-lng"))};var geoMap=new google.maps.Map(document.getElementById("geoMap"),{zoom:data.mapElement.data("default-zoom")?Number(data.mapElement.data("default-zoom")):16,center:{lat:data.position.lat,lng:data.position.lng},scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,draggable:!$("body").hasClass("mobile"),zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE},mapTypeId:google.maps.MapTypeId[data.mapElement.data("type")]}),geoLayout=$(".geo-layout").css("background-image").replace('url("',"").replace('")',"").replace("url(","").replace(")","");new google.maps.Marker({position:new google.maps.LatLng(data.position.lat,data.position.lng),icon:geoLayout,map:geoMap})}function _phoneTelAnalyticAction(){ga("send","event","User_mobile","ShowPhone",$(".js-analytics-category").attr("data-category"))}function _sticky(){$(".block--sticky").toggleClass("block--static-sticky",$(".list-announcement-left").height()<400||$(".list-announcement-left").height()<$(".block--sticky").height())}function _showMap(){$(this).addClass("dn"),data.mapElement=$("#geoMap").removeClass("dn"),data.mapElement.length&&$.getScript(app.config.mapApiUrl).then(function(){_mapInit()})}function _listener(){$(window).load(_sticky),$doc.on("click",".js-show-map",_showMap).on("click",".js-phone-number",_phoneTelAnalyticAction).on("loadBanner:banners",_sticky)}var data={mapElement:"",position:{lat:"",lng:""}};return self.ready=function(){_listener()},self}(app.modules.geoMarkerRender||{}),app.modules.openShareWindow=function(self){function _sendAnalytic($el){var instance="User_"+app.config.workspace,rubric=$(".js-analytics-category").data("category"),netSlug=$el.data("network");ga("send","event",instance,netSlug,rubric)}function _listener(){$doc.on("click",".js-close-shared",function(){$(".js-shared").remove()}).on("click",".js-share-single-item",function(event){_sendAnalytic($(this))})}return self.ready=function(){_listener(),$("[data-clipboard-target]:visible").length&&new Clipboard("[data-clipboard-target]")},self}(app.modules.openShareWindow||{});var showPostrenderApp=angular.module("showPostrenderApp",[]);showPostrenderApp.controller("xhrShowPostrenderController",["$http","$scope",xhrShowPostrenderController]),angular.bootstrap(document.getElementById("show-post-render-app"),["showPostrenderApp"]),app.modules.mapDialog=function(self){function _mapInit(){_togglePreloader(),data.mapElement=$("#geoMap"),data.position={lat:parseFloat(data.mapElement.data("default-lat")),lng:parseFloat(data.mapElement.data("default-lng"))};var geoMap=new google.maps.Map(document.getElementById("geoMap"),{zoom:data.mapElement.data("default-zoom")?Number(data.mapElement.data("default-zoom")):16,center:{lat:data.position.lat,lng:data.position.lng},scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,draggable:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE},mapTypeId:google.maps.MapTypeId[data.mapElement.data("type")]}),geoLayout=$(".geo-layout").css("background-image").replace('url("',"").replace('")',"").replace("url(","").replace(")","");new google.maps.Marker({position:new google.maps.LatLng(data.position.lat,data.position.lng),icon:geoLayout,map:geoMap})}function _togglePreloader(isOn){isOn?$(".js-preloader-main").removeClass("dn"):$(".js-preloader-main").addClass("dn")}function _openMapDialog($el){coords=$el.data("coords"),_togglePreloader(!0),coords=coords.substring(coords.lastIndexOf("(")+1,coords.lastIndexOf(")")).split(" "),$(".js-dialog-popup").html(function(){return Handlebars.compile($("#location-map").html())}).dialog({resizable:!1,closeText:"",dialogClass:"dialog-popup--nowrap",draggable:!1,width:app.config.mobile?window.innerWidth:821,height:app.config.mobile?window.innerHeight-40:"auto",modal:!0,title:$el.find("span").text(),show:{duration:300},hide:{duration:300},open:function(){if(app.config.mobile)try{$("#geoMap").length?_mapInit():_getMap($el)}catch(e){}else _getMap($el)},close:function(){$("body").css({overflow:"auto"})}})}function _getMap($el){var defaultLng=+$el.data("default-lng"),defaultLat=+$el.data("default-lat"),defaultZoom=+$el.data("default-zoom");if(defaultLat&&defaultLng&&(coords[1]=defaultLat,coords[0]=defaultLng),$("body").css({overflow:"hidden"}),dialogMap=new google.maps.Map(document.getElementById("dialog-map"),{zoom:defaultZoom||12,center:{lat:+coords[1],lng:+coords[0]},scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,draggable:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE}}),defaultLng&&defaultLat){var geoLayout=$(".geo-layout").css("background-image").replace('url("',"").replace('")',"").replace("url(","").replace(")","");new google.maps.Marker({position:{lat:coords[1],lng:coords[0]},icon:geoLayout,map:dialogMap})}else{new google.maps.Circle({strokeColor:"#ff0000",map:dialogMap,center:{lat:+coords[1],lng:+coords[0]},radius:1e3})}google.maps.event.addListenerOnce(dialogMap,"idle",function(){_togglePreloader()})}function _listing(){$doc.on("click",".js-open-announcement-location",function(e){e.preventDefault();var $el=$(this);return!!$el.data("coords")&&void(isMapOn?_openMapDialog($el):$.getScript(app.config.mapApiUrl).then(function(){isMapOn=!0,_openMapDialog($el)}))}).on("click",".js-close-dialog-map",function(){$(".js-dialog-popup").dialog("close")})}var dialogMap,isMapOn,coords,data={mapElement:"",position:{lat:"",lng:""}};return self.ready=function(){_listing()},self}(app.modules.mapDialog||{}),app.modules.sendCvModule=function(self){function _submitForm(e){if(e.preventDefault(),$(".cv input.validation--error, .cv textarea.validation--error").change(),_setup.isLoading)return!1;var $cvFile=$("#cv-file");$cvFile.length&&$cvFile.prop({disabled:!$cvFile.prop("files").length});var $el=$(this),data=new FormData($el[0]),url=$el.data("url");$.ajax({url:url,data:data,cache:!1,contentType:!1,processData:!1,type:"POST",beforeSend:function(){_setup.isLoading=!0},success:function(res){res.errors?($(".g-recaptcha iframe").attr("src",$(".g-recaptcha iframe").attr("src")),_renderErrors(res.errors)):(_showSuccessMessage(res.result),$(".js-open-send-form").closest(".announcement-text-message").addClass("dn"),$el.trigger("reset"))},error:_handleError,complete:function(){$cvFile.prop({disabled:!1}),_setup.isLoading=!1}})}function _showSuccessMessage(msg){if(app.config.mobile){var $el=$(".js-main-message-outline");$el.find(".main-message__text-output").text(msg),$el.fadeIn(500,function(){setTimeout(function(){$el.fadeOut(500),$(".js-message-form-wrapper").hide(500),$(".js-cv-form")[0].reset()},2e3)})}else _successPopup(msg)}function _successPopup(text){function popupClose(){$(".js-message-dialog").dialog("close")}var _dialogHeight="auto",_dialogWidth=840;$(".js-message-dialog").html('<div class="ui-dialog-head">'+text+"</div>").dialog({resizable:!1,draggable:!1,maxWidth:840,width:_dialogWidth,height:_dialogHeight,modal:!0,show:{duration:300},hide:{duration:300},close:function(){$(".js-message-form-wrapper").hide(500),$(".js-cv-form")[0].reset()}}),setTimeout(popupClose,2e3)}function _renderErrors(errors){Object.keys(errors).forEach(function(errName){var $target=$('[name="'+errName+'"]'),msg=errors[errName]||$target.data("default");if($target.addClass("validation--error"),app.config.mobile)$target.parents("fieldset").addClass("cv__fieldset--error").find("legend").text(msg);else{var offset=[$target.offset().left+$target.width(),$target.offset().top+15];$target.qtip({content:{text:msg},position:{target:offset,at:"right center",my:"left center",adjust:{scroll:!1,resize:!1,mouse:!1,effect:!1}},show:{event:!1,ready:!0},hide:{target:$target,event:"focus click change input"},style:{classes:"u-tooltip error"}})}})}function _removeErrors(){$(".cv input.validation--error, .cv textarea.validation--error").removeClass("validation--error").siblings("legend").text(function(){return $(this).data("default")})}function _validateField(){if(app.config.mobile){var $el=$(this),value=$el.val();value?$el.parents("fieldset").addClass("cv__fieldset--top").removeClass("cv__fieldset--error"):$el.parents("fieldset").removeClass("cv__fieldset--top").removeClass("cv__fieldset--error")}}function _clearValue(){$(this).parents(".cv__file-remove").addClass("dn"),$("#cv-file").val("")}function _getFileUrl(e){var value=$(this).val();value&&$(".cv__file-remove").removeClass("dn").children("label").text(function(){return value.split("\\").pop()})}function _checkCVform(){$(".js-cv-validate").each(function(i,el){$(el).val()&&$(el).parents("fieldset").addClass("cv__fieldset--top")})}function _handleError(err){console.error(err)}function _focusTextarea(){$(".cv textarea.validation--error, .cv input.validation--error").change()}function _inputFile(){$(".cv textarea.validation--error").change()}function _listing(){$doc.on("submit",".js-cv-form",_submitForm).on("click",".js-file-remove",_clearValue).on("change input",".cv input.validation--error, .cv textarea.validation--error",_removeErrors).on("click",".cv input.validation--error",_inputFile).on("focus",".cv input.validation--error",_focusTextarea).on("focus",".cv textarea.validation--error",_focusTextarea).on("change","#cv-file",_getFileUrl).on("change input click",".js-cv-validate",_validateField)}function _init(){_setup.isLoading=!1,app.config.mobile&&$(".cv").length&&_checkCVform()}var _setup={};return Object.defineProperty(_setup,"isLoading",{set:function(l){var $preloader=$(".js-preloader-main");l?$preloader.removeClass("dn"):$preloader.addClass("dn")}}),self.ready=function(){_listing(),_init()},self}(app.modules.sendCvModule||{}),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t;return function t(e,n,o){function i(a,c){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!c&&l)return l(a,!0);if(r)return r(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return i(n||t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e,n){function o(t,e){for(;t&&t.nodeType!==i;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var i=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=o},{}],2:[function(t,e,n){function o(t,e,n,o,r){var a=i.apply(this,arguments);return t.addEventListener(n,a,r),{destroy:function(){t.removeEventListener(n,a,r)}}}function i(t,e,n,o){return function(n){n.delegateTarget=r(n.target,e),n.delegateTarget&&o.call(t,n)}}var r=t("./closest");e.exports=o},{"./closest":1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,n){function o(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!c.string(e))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(t))return i(t,e,n);if(c.nodeList(t))return r(t,e,n);if(c.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return l(document.body,t,e,n)}var c=t("./is"),l=t("delegate");e.exports=o},{"./is":3,delegate:2}],5:[function(t,e,n){function o(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var o=window.getSelection(),i=document.createRange();i.selectNodeContents(t),o.removeAllRanges(),o.addRange(i),e=o.toString()}return e}e.exports=o},{}],6:[function(t,e,n){function o(){}o.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function o(){i.off(t,o),e.apply(n,arguments)}var i=this;return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,i=n.length;for(o;o<i;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],i=[];if(o&&e)for(var r=0,a=o.length;r<a;r++)o[r].fn!==e&&o[r].fn._!==e&&i.push(o[r]);return i.length?n[t]=i:delete n[t],this}},e.exports=o},{}],7:[function(e,n,o){!function(i,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if(void 0!==o)r(n,e("select"));else{var a={exports:{}};r(a,i.select),i.clipboardAction=a.exports}}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=function(){function t(e){o(this,t),this.resolveOptions(e),this.initSelection()}return a(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,n="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[n?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=o+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,i["default"])(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i["default"])(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),t}();t.exports=c})},{select:5}],8:[function(e,n,o){!function(i,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if(void 0!==o)r(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var a={exports:{}};r(a,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=a.exports}}(this,function(t,e,n,o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var s=i(e),u=i(n),f=i(o),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),p=function(t){function e(t,n){r(this,e);var o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.resolveOptions(n),o.listenClick(t),o}return c(e,t),h(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===d(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var n=this;this.listener=(0,f["default"])(e,"click",function(t){return n.onClick(t)})}},{key:"onClick",value:function(e){var n=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s["default"]({action:this.action(n),target:this.target(n),text:this.text(n),container:this.container,trigger:n,emitter:this})}},{key:"defaultAction",value:function(e){return l("action",e)}},{key:"defaultTarget",value:function(e){var n=l("target",e);if(n)return document.querySelector(n)}},{key:"defaultText",value:function(e){return l("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],n="string"==typeof e?[e]:e,o=!!document.queryCommandSupported;return n.forEach(function(t){o=o&&!!document.queryCommandSupported(t)}),o}}]),e}(u["default"]);t.exports=p})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});